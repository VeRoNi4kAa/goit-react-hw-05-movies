{"version":3,"file":"static/js/163.c25f3e54.chunk.js","mappings":"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","sources":["api/api.jsx","views/SearchBar/SearchBar.jsx","views/SearchBar/SearchBarStyled.js","views/SearchBar/index.js"],"sourcesContent":["import axios from 'axios';\nimport PropTypes from 'prop-types';\n\nconst API_KEY = 'api_key=abcc14051ec92b4ea953107c3446d1d4';\nconst error = error => console.log('Error', error.message);\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport async function fetchTrendTitles() {\n  const response = await axios\n    .get(`/trending/movie/week`, {\n      params: {\n        api_key: 'abcc14051ec92b4ea953107c3446d1d4',\n      },\n    })\n    .catch(error);\n  return response.data.results;\n}\n\nexport async function fetchMovieId(movieId) {\n  const response = await axios\n    .get(`/movie/${movieId}`, {\n      params: {\n        api_key: 'abcc14051ec92b4ea953107c3446d1d4',\n      },\n    })\n    .catch(error);\n  return response.data;\n}\nexport async function fetchCast(movieId) {\n  const response = await axios\n    .get(`/movie/${movieId}/credits`, {\n      params: {\n        api_key: 'abcc14051ec92b4ea953107c3446d1d4',\n      },\n    })\n    .catch(error);\n  return response.data;\n}\n\nexport async function fetchReviews(movieId) {\n  const response = await axios\n    .get(`/movie/${movieId}/reviews`, {\n      params: {\n        api_key: 'abcc14051ec92b4ea953107c3446d1d4',\n      },\n    })\n    .catch(error);\n  return response.data.results;\n}\n\nexport async function fetchMovie(movie) {\n  const response = await axios\n    .get(\n      `/search/movie?${API_KEY}&language=en-US&query=${movie}&page=1&include_adult=false`\n    )\n    .catch(error);\n  return response.data.results;\n}\n\nfetchMovieId.propTypes = {\n  movieId: PropTypes.number.isRequired,\n};\n\nfetchCast.propTypes = {\n  movieId: PropTypes.number.isRequired,\n};\nfetchReviews.propTypes = {\n  movieId: PropTypes.number.isRequired,\n};\nfetchMovie.propTypes = {\n  movieId: PropTypes.string.isRequired,\n};\n","import { fetchMovie } from 'api/api';\nimport { useState, useEffect } from 'react';\nimport { NavLink, useSearchParams, useLocation } from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { List, SearchForm, Button, Input, Item } from './SearchBarStyled';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport default function SearchBar() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [value, setValue] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [stateMashine, setStateMashine] = useState('idle');\n  const currentQuery = searchParams.get('query');\n  const location = useLocation();\n\n  useEffect(() => {\n    if (currentQuery) {\n      fetchMovie(currentQuery)\n        .then(setMovies)\n        .finally(() => setStateMashine('loaded'));\n    }\n  }, [currentQuery]);\n\n  const handleChange = e => {\n    setValue(e.target.value.toLowerCase());\n  };\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    setSearchParams({ query: value });\n    if (value.trim() === '') {\n      toast.warn('Please enter movie title');\n      return;\n    }\n  };\n  return (\n    <>\n      <ToastContainer />\n      <SearchForm>\n        <form onSubmit={handleSubmit}>\n          <Input\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search movie\"\n            value={value}\n            onChange={handleChange}\n          />\n          <Button type=\"submit\">Search</Button>\n        </form>\n      </SearchForm>\n      {movies.length === 0 && stateMashine === 'loaded' ? (\n        <p>Not found</p>\n      ) : (\n        <div>\n          <List>\n            {movies.map(movie => (\n              <Item key={movie.id}>\n                <NavLink\n                  to={`${movie.id}`}\n                  state={{ from: location }}\n                  className=\"notActive\"\n                >\n                  {movie.title}\n                </NavLink>\n              </Item>\n            ))}\n          </List>\n        </div>\n      )}\n    </>\n  );\n}\n","import styled from 'styled-components';\n\nexport const List = styled.ul`\n  font-size: 20px;\n  list-style: none;\n`;\nexport const Item = styled.li`\n  margin-bottom: 10px;\n`;\n\nexport const SearchForm = styled.div`\n  margin-bottom: 1rem;\n  margin-top: 8px;\n  display: flex;\n`;\n\nexport const Button = styled.button`\n  height: calc(2.25rem + 2px);\n  padding: 0.375rem 0.75rem;\n  font-family: inherit;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: white;\n  background: transparent;\n  cursor: pointer;\n  border-radius: 0.25rem;\n  border: 1px solid #000;\n`;\n\nexport const Input = styled.input`\n  width: 400px;\n  height: calc(2.25rem + 2px);\n  padding: 0.375rem 0.75rem;\n  font-family: inherit;\n  font-size: 1rem;\n  font-weight: 400;\n  line-height: 1.5;\n  color: #212529;\n  background-color: #fff;\n  background-clip: padding-box;\n  border: 1px solid #000;\n  border-radius: 0.25rem;\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  background: transparent;\n  &:placeholder {\n    color: #212529;\n    opacity: 0.4;\n    &:focus {\n      color: #212529;\n      background-color: #fff;\n      border-color: #bdbdbd;\n      outline: 0;\n      box-shadow: 0 0 0 0.2rem rgba(158, 158, 158, 0.25);\n    }\n  }\n`;\n","import SearchMovie from './SearchBar';\nexport default SearchMovie;\n"],"names":["API_KEY","error","console","log","message","fetchTrendTitles","axios","params","api_key","catch","response","data","results","fetchMovieId","movieId","fetchCast","fetchReviews","fetchMovie","movie","propTypes","PropTypes","SearchBar","useSearchParams","searchParams","setSearchParams","useState","value","setValue","movies","setMovies","stateMashine","setStateMashine","currentQuery","get","location","useLocation","useEffect","then","finally","SearchForm","onSubmit","evt","preventDefault","query","trim","toast","Input","type","autoComplete","autoFocus","placeholder","onChange","e","target","toLowerCase","Button","length","List","map","Item","to","id","state","from","className","title","styled","SearchMovie"],"sourceRoot":""}